## Служебное Расширение Подписки

Для обработки событий Конфигурации в информационной базе должно присутствовать служебное Расширение `ЕХТ_Подписки`, которое автоматически добавляется в информационную базу после активации [лицензии](../3.%20%D0%9B%D0%B8%D1%86%D0%B5%D0%BD%D0%B7%D0%B8%D1%8F.md).

![Screenshot](../img/%D0%9F%D0%BE%D0%B4%D0%BF%D0%B8%D1%81%D0%BA%D0%B8.png)

## Добавление подписки

В модуле менеджера или общем модуле Расширения, в функцию `Сведения()` нужно добавить строку `Сведения.Подписки = Истина` и добавить экспортную функцию `Подписки()` как на картинке ниже:

![Screenshot](../img/%D0%9E%D1%82%D0%BC%D0%B5%D1%87%D0%B5%D0%BD%D1%8B%20%D0%BF%D0%BE%D0%B4%D0%BF%D0%B8%D1%81%D0%BA%D0%B8%20%D0%B2%20%D0%BC%D0%BE%D0%B4%D1%83%D0%BB%D0%B5.png)

## Параметры подписки

При добавлении подписки необходимо указать параметры подписки:

#### Событие 
**Обязательный параметр**. Тип: `Строка`. Указывается имя события, как указано в Синтакс-Помощнике, например `ПриСозданииНаСервере`. Если нужно обработать событие после типовых обработчиков Конфигурации, то к имени события нужно добавить префикс `После`, например `ПослеПриСозданииНаСервере`.

#### Издатель
Обязательный параметр для события `ОбработкаКомандыФормы` и для всех событий элементов формы, в остальных случаях - необязательный. Тип: `Строка` или `Массив`. В строке можно указать несколько значений через запятую. Используется для указания имени источника обрабатываемого события, например `Справочник.Номенклатура` или `Документ.ПоступлениеТоваров.Форма.ФормаСписка`. 

#### Элемент
Обязательный параметр для события `ОбработкаКомандыФормы` и для всех событий элементов формы, для остальных событий не используется. Тип: `Строка` или `Массив`. В строке можно указать несколько значений через запятую. Для события `ОбработкаКомандыФормы` указывается имя команды, для событий элементов формы указывается имя элемента.

#### Подписчик
Необязательный параметр. Тип: `Строка`. По-умолчанию, обработчики событий на `НаКлиенте` должны располагаться в модуле формы `Подписки`, а обработчики событий `НаСервере` - в модуле менеджера. С помощью данного параметра можно указать другой модуль расположения обработчика события.

#### Обработчик
Необязательный параметр. Тип: `Строка`. По-умолчанию, имена обработчиков событий это `ЕХТ_ИмяСобытия` или `ЕХТ_ПослеИмяСобытия`. В данном параметре можно изменить имя обработчика.

#### Директива
Необязательный параметр. Тип: `Строка`. Допустимые значения: `НаКлиенте` и `НаСервере`. Используется для одноименных событий с разных контекстом выполнения. Например: для обработки события `ПриНачалеРаботыСистемы` из модуля приложения нужно указать `НаКлиенте`, а для обработки события `ПриНачалеРаботыСистемы` из модуля внешнего соединения нужно указать `НаСервере`.

#### КоличествоПараметров
Необязательный параметр. Тип: `Число`. Используется, если в обработчике Конфигурации указано нестандартное количество параметров. Также используется для одноименных событий с разным количеством параметров, например, для события `Выбор`.

#### Описание
**Обязательный параметр**. Тип: `Строка`. Здесь указывается назначение обработчика события.

## Обработчики событий
По-умолчанию, обработчики событий это экспортные функции с именами `ЕХТ_ИмяСобытия` или `ЕХТ_ПослеИмяСобытия`, которые располагаются в модулях объекта, в котором добавляется подписка. Обработчики событий `НаКлиенте` - в модуле формы `Подписки`, а обработчики событий на `НаСервере`- в модуле менеджера объекта.